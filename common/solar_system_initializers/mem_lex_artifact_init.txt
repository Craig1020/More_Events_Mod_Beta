### MEM Ancestor Prison
# Code & idea by Frog, writing by Cc

mem_gate = {

	name = "Udara"

	class = "sc_pulsar"

	flags = {
	    mem_gate_system
	    guardian
		hostile_system
	}
	
	usage_odds = {
		base = 100
	}

	#usage = misc_system_init
	max_instances = 1
	
	planet = {
		name = ""
		class = "pc_mem_star_dummy"
		orbit_distance = 0
		orbit_angle = 0
		size = 1
		has_ring = no
		
		flags = {
		}
		
		init_effect = {
			prevent_anomaly = yes
			orbital_deposit_tile = {
                clear_deposits = yes
            }
			
			save_event_target_as = mem_artifact_relic_loc
			
			create_ambient_object = {
				type = "mem_artifact_relic_alt_object"
			}
			last_created_ambient_object = {
				set_location = {
					target = event_target:mem_artifact_relic_loc
					distance = 0
					angle = random
				}
				set_ambient_object_flag = mem_artifact_relic_ambient
			}
		}
	}

	planet = {
		class = pc_gas_giant
		name = ""
		orbit_distance = 150
			orbit_angle = random
		    modifiers = none
			has_ring = yes
			tile_blockers = none
			size = 40
			
			flags = {
		    }
			
			init_effect = {
				prevent_anomaly = yes
			    orbital_deposit_tile = {
                clear_deposits = yes
                }
			}
		
		moon = {
			class = "pc_shrouded"
			name = ""
		    orbit_distance = 25
		    orbit_angle = random
		    has_ring = no	
		    size = 10
			
			flags = {
		    }
			
			init_effect = {
				prevent_anomaly = yes
			    orbital_deposit_tile = {
                clear_deposits = yes
                }
			    create_ambient_object = {
			    type = "mem_battlefield_object"
				location = THIS
		        }
				create_ambient_object = {
				type = "abandoned_starbase_01_object"
				location = THIS
			    }
			}
		}
	}

	init_effect = {
	    create_ambient_object = {
			type = "mem_cloud_ambient_object"
			location = solar_system
		}
	}
}